# Community Solid Server (CSS) configuration

[`/common/css.json`](../common/css.json) is the original CSS configuration,
used for debugging purposes when the Docker Compose infrastructure was being developed.
It disables security settings.
It is valid for CSS version 5.1.

The CSS configuration used by all CSS containers in `docker-compose*.yml`
is controlled by the template [`/common/css-01.json.template`](../common/css-01.json.template).

See also the [documentation on how to configure your CSS server](https://github.com/CommunitySolidServer/CommunitySolidServer).

The template is based on the example configuration generated by the configuration generator:

| configurator versioned URL                                          | settings                                                                        |
|---------------------------------------------------------------------|---------------------------------------------------------------------------------|
| https://communitysolidserver.github.io/configuration-generator/v6/  | [CSS-config-generator-input-for-v6](pdf/CSS-config-generator-input-for-v6.pdf)  |
| https://communitysolidserver.github.io/configuration-generator/v7/ | [CSS-config-generator-input-for-v7](pdf/CSS-config-generator-input-for-v7.pdf) |

The currently used configuration is the one for CSSv7 (bottom row in above table).

The following section was added to the `"@graph"` array by hand:

```json
    {
      "comment": "The location of the new pod templates folder.",
      "@type": "Override",
      "overrideInstance": {
        "@id": "urn:solid-server:default:PodResourcesGenerator"
      },
      "overrideParameters": {
        "@type": "StaticFolderGenerator",
        "templateFolder": "/config/pod-template"
      }
    },
    {
      "comment": "Where the WebID is located in the generated pod, relative to the root.",
      "@type": "Override",
      "overrideInstance": {
        "@id": "urn:solid-server:default:PodCreator"
      },
      "overrideParameters": {
        "@type": "BasePodCreator",
        "relativeWebIdPath": "profile/card#me"
      }
    },
```

The credentials (email, password) for the root pod were set to something non-default in this section:

```json
   {
      "comment": [
        "The login settings of the account of the root pod. ",
        "It is advised to immediately change this password after starting the server."
      ],
      "@type": "Override",
      "overrideInstance": {
        "@id": "urn:solid-server:default:RootPodInitializer"
      },
      "overrideParameters": {
        "@type": "AccountInitializer",
        "email": "...",
        "password": "..."
      }
    }
```

Note that the root pod is not used, but enabling a root pod currently is the only possible configuration-time solution to avoid public write and append access to the parent container of the other pod root containers:
the configuration setting `Initialize root: Inaccessible root` is not allowed if the configuration setting `Solid protocol: Enabled` is needed (which is the case).

