# Use case: Construction

TODOs

- [Â ] update use case description (building owner 2 & ragn sells)
- [ ] update diagram to include new actors (building owner 2 & ragn sells)

---

> ğŸ“½ï¸ [Demo][screencast-d4_2]

The use case is as follows:

A building owner owns some buildings.
Floors in a building are covered with floor tiles, delivered by a manufacturer,
who uses materials to construct the tiles.
At some time in a buildingâ€™s lifetime, the building owner refurbishes a building
and wants to decide on what to do with the floor tiles, based on economic and
environmental costs.

![Construction use case](img/construction-use-case.png)

<iframe width="560" height="315" src="https://www.youtube.com/embed/xMYpdIqsxZo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

## Implementation

We map the source data to Linked Data using the [YARRRML parser][yarrrml-parser]
and the [RMLMapper][rmlmapper].
As a result, every actor's source data will be transformed to RDF, serialized as Turtle.

Every actors has their a pod, hosted by their own [Community Solid server][css].
Each pod contains the Turtle files of the actor owning the pod.</br>
To operate on the Solid pods (e.g. specifying access control),
we use of [Bashlib][bashlib]: a Command-Line Interface to interact with actors in a Solid.</br>
To query the distributed data, we use the [Comunica Webclient][comunica-webclient]:
a jQuery widget to query heterogeneous interfaces using Comunica SPARQL.

## Features

### Flexible support for heterogeneous systems

There are 4 actors,
each storing their data using a different data model and different serialization:

- Building Owner (User)
  - Buildings (CSV)
- Building Owner 2 (User)
  - Buildings (JSON)
- Lindner Group (Manufacturer)
  - Bill of Materials (CSV)
  - Materials (CSV)
  - Products (CSV)
- Ragn-Sells (Sorter, Recycler)
  - Services (XML)

### Access Control

Generally, the following ACL rules are applied

- a Manufacturer can *READ* User/Customer data
- a User can *READ* the *Products* of a *Manufacturer*
- every authenticated actor can *READ* the available services of a Recycler or Sorter
- the platform Administrator can *READ* all data generated by the actors

Applied to the construction example use case, this comes down to

- â€œLindner Groupâ€ can *READ* buildings data from â€œBuilding Ownerâ€ & â€œBuilding Owner 2â€
- â€œBuilding Ownerâ€ & â€œBuilding Owner 2â€ can *READ* product data from â€œLindner Groupâ€
- All actors can *READ* service descriptions from Ragn-Sells
- The â€œadminâ€ actor can *READ* every actorâ€™s generated data (i.e. data within `<actor>/data/dt/out`)

<!-- Refs -->
[comunica-webclient]: https://github.com/comunica/jQuery-Widget.js
[css]: https://github.com/CommunitySolidServer/CommunitySolidServer
[bashlib]: https://github.com/SolidLabResearch/Bashlib
[rmlmapper]: https://github.com/RMLio/rmlmapper-java
[yarrrml-parser]: https://github.com/RMLio/yarrrml-parser/tree/development/lib
[screencast-d4_2]: https://youtu.be/xMYpdIqsxZo